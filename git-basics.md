# Git &mdash; инструмент управления версиями

*Историческая справка:*

* 7 апреля 2005 г. &mdash; появление первой версии Git

* 16 апреля 2005 г. &mdash; первая фиксация ядра Linux Линусом Торвальдсом с использованием Git

-------------

## Установка

В системах Linux, основанных на дистрибутиве Debian, для установки базового пакета Git выполнить команду:

    $ sudo apt-get install git

Для установки в системах Windows &mdash; [скачать](https://git-scm.com/download/win, "git-scm.com/download/win")  подходящий установочный пакет.

Чтобы убедиться, что установка прошла успешно, в коммандной оболочке системы можно выполнить команду вывода версии установленного Git:

    git --version

## Основные команды

Ранние версии Git состояли из набора автономных исполняемых файлов, представлюящих отдельные команды. Каждая команда начиналась со строки *git*, содержала дефис и название действия, например: `git-log`. Старые имена команд могут до сих пор использоваться в некоторых пакетах, например в *msysGit* для Windows.

В последних версиях Git основной набор команд выполняется единственной исполняемой программой git с указанием выполняемого действия в качестве *параметра* через пробел.

Команда `git` без аргументов выведет возможные параметры и список общих команд. Чтобы вывести полный список команд, введите `git help --all`. А чтобы получить справку по конкретной команде, введите `git help <имя_команды>`:

    $ git
    $ git help --all
    $ git help commit

### Создание начального репозитория

Чтобы превратить локальный каталог, который ещё не находится под версионным контролем, в репозиторий Git, необходимо в командной оболочке перейти в данный каталог, т.&nbsp;е. сделать его рабочим (текущим) и выполнить команду `git init`:

    $ git init

*Пример выполнения команды:*
![git init](./ex-git-init.png)

В рабочем каталоге создаётся скрытый каталог .git.

### Настройка автора фиксаций

Для фиксации (коммита) обязательно указание автора фиксакции: имя и e-mail.

Указание даных автора непосредственно в команде фиксации:

    $ git commit -m "Первый коммит" \
        --author="Alexey Kuznetsov <alexeykuznetsov@rocketmail.com>"

Для сохранение данных автора в файле конфигурации конкретного репозитория используется команда `git config`:

    $ git config user.name "Alexey Kuznetsov"
    $ git config user.email alexeykuznetsov@rocketmail.com

Для указания данных автора, специфичных не для конкретного репозитория, а для пользователя системы, необходимо использовать команду `git config` с опцией `--global`:

    $ git config --global user.name "Alexey Kuznetsov"
    $ git config --global user.email alexeykuznetsov@rocketmail.com

Настройки, специфичные для репозитория, имеют больший приоритет над настройками, установленными для пользователя системы, и переопределяют их.

### Проверка текущего состояния репозитария

Команда `git status` покажет, есть ли незафиксированные изменения в репозитарии, отобразит промежуточные состояния отслеживаемых файлов и наличие неотслеживаемых, сообщит, какие действия будут произведены при следующей фиксации в репозитарий:

    $ git status

*Пример выполнения команды:*
![git status](./ex-git-status.png)

### Включение файлов в репозиторий/фиксацию

Чтобы добавить неотслеживаемый файл в индекс репозитория, а также чтобы включить изменения файла в следующую фиксацию, используется команда `git add`:

    $ git add <файл>

Чтобы довавить в репозиторий и/или включить в коммит все файлы в каталоге и во всех подкаталогах, в команде вместо имени файла указывается точка:

    $ git add .

### Фиксация изменений (коммит)

Команда `git commit` берёт все данные, добавленные в индекс с помощью `git add`, и сохраняет их слепок во внутренней базе данных, а затем сдвигает указатель текущей ветки на этот слепок. Описание фиксации возможно добавить в команду с помощью параметра `-m`:

    $ git add .
    $ git commit -m "Первая фиксация"

Используя параметр `-a` можно включить сразу все изменения во всех ___отслеживаемых___ файлах в фиксацию без необходимости прибегать к `git add`:

    $ git commit -am "Фиксация всех изменений"

*Внимание:* Данный способ не влечёт добавление и фиксацию ещё неотслеживаемых файлов. Новые файлы требуется добавлять в индекс репозитория, используя команду `git add`!

### Просмотр фиксаций

Каждой фиксации Git присваивает уникальный 40-разрядный шестнадцатеричный идентификатор. Для получения информации по конкретной фиксации, при указании её идентификатора в команде, достаточно использовать как минимум первые 4 знака идентификатора.

Для просмотра отдельной истории фиксаций в репозитории используется команда `git log`. Записи выводятся в порядке от самой последней до самой старой:

    $ git log


